const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slidev/DrawingControls-j07O9TaK.js","assets/modules/vue-BUPd_IMr.js","assets/modules/shiki-CZCLorAL.js","assets/modules/shiki-Bxv373Z5.css","assets/index-16Tq_rZE.js","assets/index-Cmlkj2Ok.css","assets/slidev/title-renderer.md_vue_type_script_setup_true_lang-Mcmdy6qe.js","assets/slidev/context-DPLxiWl2.js","assets/modules/unplugin-icons-BtG9l3DG.js","assets/DrawingControls-Cxk9a9ub.css","assets/slidev/DrawingLayer-DA_mGadu.js"])))=>i.map(i=>d[i]);
import{z as P,B as l,t as z,a0 as pn,Y as Ft,ac as mn,P as Ts,y as gn,n as yn,E as Xe,ad as ls,ae as xn,af as _n,ag as Fs,Q as Ye,d as G,a6 as Os,a7 as bn,a5 as wn,o as f,b,F as U,ah as mt,i as Q,c as R,ai as ze,e as _,x as le,aj as je,g as S,h as fe,ak as zs,j as xt,l as C,al as us,f as Be,am as js,k as D,an as Je,ao as kn,a3 as Sn,ap as Fe,v as Mn,aq as $n,D as Ct,ar as Pn,as as vt,at as Bs,au as Ks,av as Hs,aw as Cn,ax as vs,m as Xt,S as En,C as In,ay as _t,q as Le,s as Ne,az as Rn,aA as J,aB as we,aC as Ln,aD as Nn}from"../modules/vue-BUPd_IMr.js";import{g as Et,u as ve,c as ue,d as Ot,p as ps,o as An,i as Us,h as St,w as Mt,s as qe,t as It,f as cs,m as Dn,a as We,b as Oe,e as dt,_ as gt,j as Vn,k as et,r as Tn,l as Fn,n as ms,q as ht,v as Rt,x as Lt,y as pt,z as Gs,A as On,B as zn,C as jn,D as Bn,E as Kn,F as Hn,G as Un,H as Gn,I as Qt,J as xe,K as Ws,L as Ys,M as Xs,N as zt,O as ft,P as V,Q as Z,R as Wn,S as Zt,T as bt,U as Qs,V as Yn,W as Xn,X as Qn,Y as jt,Z as Zn,$ as gs,a0 as ds,a1 as Bt,a2 as ys,a3 as Jt,a4 as Jn,a5 as qn,a6 as er,a7 as tr}from"../index-16Tq_rZE.js";import{_ as sr}from"./title-renderer.md_vue_type_script_setup_true_lang-Mcmdy6qe.js";import{u as Tt}from"./context-DPLxiWl2.js";import{_ as nr,a as rr,b as Zs,c as ir}from"../modules/unplugin-icons-BtG9l3DG.js";import{V as or,t as ar}from"../modules/shiki-CZCLorAL.js";function lr(e){var t;return{info:z(((t=Et(e))==null?void 0:t.meta.slide)??null),update:async()=>{}}}const Kt={};function ur(e){function t(s){return Kt[s]??(Kt[s]=lr(s))}return{info:P({get(){return t(l(e)).info.value},set(s){t(l(e)).info.value=s}}),update:async(s,r)=>{const n=t(r??l(e)),i=await n.update(s);return i&&(n.info.value=i),i}}}var cr=Object.defineProperty,xs=Object.getOwnPropertySymbols,dr=Object.prototype.hasOwnProperty,hr=Object.prototype.propertyIsEnumerable,_s=(e,t,s)=>t in e?cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,qt=(e,t)=>{for(var s in t||(t={}))dr.call(t,s)&&_s(e,s,t[s]);if(xs)for(var s of xs(t))hr.call(t,s)&&_s(e,s,t[s]);return e},fr=()=>({emit(e,...t){for(let s=this.events[e]||[],r=0,n=s.length;r<n;r++)s[r](...t)},events:{},on(e,t){var s;return((s=this.events)[e]||(s[e]=[])).push(t),()=>{var r;this.events[e]=(r=this.events[e])==null?void 0:r.filter(n=>t!==n)}}});function Nt(e,t){return e-t}function vr(e){return e<0?-1:1}function At(e){return[Math.abs(e),vr(e)]}function Js(){const e=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${e()+e()}-${e()}-${e()}-${e()}-${e()}${e()}${e()}`}var pr=2,De=pr;function qs(e,t){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),r=document.createElementNS("http://www.w3.org/2000/svg","marker"),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("fill",t),r.setAttribute("id",e),r.setAttribute("viewBox","0 -5 10 10"),r.setAttribute("refX","5"),r.setAttribute("refY","0"),r.setAttribute("markerWidth","4"),r.setAttribute("markerHeight","4"),r.setAttribute("orient","auto"),n.setAttribute("d","M0,-5L10,0L0,5"),r.appendChild(n),s.appendChild(r),s}function mr(e,t){const s=e.x-t.x,r=e.y-t.y;return s*s+r*r}function gr(e,t,s){let r=t.x,n=t.y,i=s.x-r,o=s.y-n;if(i!==0||o!==0){const a=((e.x-r)*i+(e.y-n)*o)/(i*i+o*o);a>1?(r=s.x,n=s.y):a>0&&(r+=i*a,n+=o*a)}return i=e.x-r,o=e.y-n,i*i+o*o}function yr(e,t){let s=e[0];const r=[s];let n;for(let i=1,o=e.length;i<o;i++)n=e[i],mr(n,s)>t&&(r.push(n),s=n);return s!==n&&n&&r.push(n),r}function es(e,t,s,r,n){let i=r,o=0;for(let a=t+1;a<s;a++){const u=gr(e[a],e[t],e[s]);u>i&&(o=a,i=u)}i>r&&(o-t>1&&es(e,t,o,r,n),n.push(e[o]),s-o>1&&es(e,o,s,r,n))}function xr(e,t){const s=e.length-1,r=[e[0]];return es(e,0,s,t,r),r.push(e[s]),r}function bs(e,t,s=!1){if(e.length<=2)return e;const r=t*t;return e=s?e:yr(e,r),e=xr(e,r),e}var tt=class{constructor(e){this.drauu=e,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(e){}onUnselected(){}onStart(e){}onMove(e){return!1}onEnd(e){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(e){var t,s,r;const n=this.drauu.el,i=(t=this.drauu.options.coordinateScale)!=null?t:1,o=(s=this.drauu.options.offset)!=null?s:{x:0,y:0};if(this.drauu.options.coordinateTransform===!1){const a=this.drauu.el.getBoundingClientRect();return{x:(e.pageX-a.left+o.x)*i,y:(e.pageY-a.top+o.y)*i,pressure:e.pressure}}else{const a=this.drauu.svgPoint;a.x=e.clientX+o.x,a.y=e.clientY+o.y;const u=a.matrixTransform((r=n.getScreenCTM())==null?void 0:r.inverse());return{x:u.x*i,y:u.y*i,pressure:e.pressure}}}createElement(e,t){var s;const r=document.createElementNS("http://www.w3.org/2000/svg",e),n=t?qt(qt({},this.brush),t):this.brush;return r.setAttribute("fill",(s=n.fill)!=null?s:"transparent"),r.setAttribute("stroke",n.color),r.setAttribute("stroke-width",n.size.toString()),r.setAttribute("stroke-linecap","round"),n.dasharray&&r.setAttribute("stroke-dasharray",n.dasharray),r}attr(e,t){this.el.setAttribute(e,typeof t=="string"?t:t.toFixed(De))}_setEvent(e){this.event=e,this.point=this.getMousePosition(e)}_eventDown(e){return this._setEvent(e),this.start=this.point,this.onStart(this.point)}_eventMove(e){return this._setEvent(e),this.onMove(this.point)}_eventUp(e){return this._setEvent(e),this.onEnd(this.point)}},_r=class Ue extends tt{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=Js();const s=qs(this.arrowId,this.brush.color);this.el.appendChild(s)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=bs(this.points,1,!0),this.count=0),this.attr("d",Ue.toSvgData(this.points)),!0}onEnd(){const t=this.el;if(this.el=null,!t)return!1;if(t.setAttribute("d",Ue.toSvgData(bs(this.points,1,!0))),!t.getTotalLength()){const{x:s,y:r}=this.points[0],n=this.brush.size/2;t.setAttribute("d",`M ${s-n} ${r} a ${n},${n} 0 1,0 ${n*2},0 a ${n},${n} 0 1,0 ${-n*2},0`),t.setAttribute("fill",this.brush.color),t.setAttribute("stroke-width","0")}return!0}static line(t,s){const r=s.x-t.x,n=s.y-t.y;return{length:Math.sqrt(r**2+n**2),angle:Math.atan2(n,r)}}static controlPoint(t,s,r,n){const i=s||t,o=r||t,a=.2,u=Ue.line(i,o),c=u.angle+(n?Math.PI:0),d=u.length*a,h=t.x+Math.cos(c)*d,v=t.y+Math.sin(c)*d;return{x:h,y:v}}static bezierCommand(t,s,r){const n=Ue.controlPoint(r[s-1],r[s-2],t),i=Ue.controlPoint(t,r[s-1],r[s+1],!0);return`C ${n.x.toFixed(De)},${n.y.toFixed(De)} ${i.x.toFixed(De)},${i.y.toFixed(De)} ${t.x.toFixed(De)},${t.y.toFixed(De)}`}static toSvgData(t){return t.reduce((s,r,n,i)=>n===0?`M ${r.x.toFixed(De)},${r.y.toFixed(De)}`:`${s} ${Ue.bezierCommand(r,n,i)}`,"")}},br=class extends tt{onStart(e){return this.el=this.createElement("ellipse"),this.attr("cx",e.x),this.attr("cy",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=At(e.x-this.start.x),[r,n]=At(e.y-this.start.y);if(this.shiftPressed){const i=Math.min(t,r);t=i,r=i}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",t),this.attr("ry",r);else{const[i,o]=[this.start.x,this.start.x+t*s].sort(Nt),[a,u]=[this.start.y,this.start.y+r*n].sort(Nt);this.attr("cx",(i+o)/2),this.attr("cy",(a+u)/2),this.attr("rx",(o-i)/2),this.attr("ry",(u-a)/2)}return!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(!e.getTotalLength())return!1}catch{return!1}return!0}},wr=class extends tt{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[],this._erased=[]}onSelected(e){const t=(s,r)=>{if(s&&s.length)for(let n=0;n<s.length;n++){const i=s[n];if(i.getTotalLength){const o=i.getTotalLength();for(let a=0;a<this.pathSubFactor;a++){const u=i.getPointAtLength(o*a/this.pathSubFactor),c=i.getPointAtLength(o*(a+1)/this.pathSubFactor);this.pathFragments.push({x1:u.x,x2:c.x,y1:u.y,y2:c.y,segment:a,element:r||i})}}else i.children&&t(i.children,i)}};e&&t(e.children)}onUnselected(){this.pathFragments=[]}onStart(e){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=e.x,this.svgPointPrevious.y=e.y}onMove(e){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=e.x,this.svgPointCurrent.y=e.y;const t=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,t}onEnd(){this.svgPointPrevious=void 0,this.svgPointCurrent=void 0;const e=this._erased;return this._erased=[],{undo:()=>e.forEach(t=>this.drauu._restoreNode(t)),redo:()=>e.forEach(t=>this.drauu._removeNode(t))}}checkAndEraseElement(){if(this.pathFragments.length)for(let e=0;e<this.pathFragments.length;e++){const t=this.pathFragments[e];if(this.svgPointPrevious&&this.svgPointCurrent){const s={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(t,s)&&(this.drauu._removeNode(t.element),this._erased.push(t.element))}}return this._erased.length&&(this.pathFragments=this.pathFragments.filter(e=>!this._erased.includes(e.element))),this._erased.length>0}lineLineIntersect(e,t){const s=e.x1,r=e.x2,n=t.x1,i=t.x2,o=e.y1,a=e.y2,u=t.y1,c=t.y2,d=(s-r)*(u-c)-(o-a)*(n-i),h=(s*a-o*r)*(n-i)-(s-r)*(n*c-u*i),v=(s*a-o*r)*(u-c)-(o-a)*(n*c-u*i),m=(g,y,p)=>g>=y&&g<=p?!0:g>=p&&g<=y;if(d===0)return!1;{const g={x:h/d,y:v/d};return m(g.x,s,r)&&m(g.y,o,a)&&m(g.x,n,i)&&m(g.y,u,c)}}},kr=class extends tt{onStart(e){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",e.x),this.attr("y1",e.y),this.attr("x2",e.x),this.attr("y2",e.y),this.brush.arrowEnd){const t=Js(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(qs(t,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${t})`),s}return this.el}onMove(e){if(!this.el)return!1;let{x:t,y:s}=e;if(this.shiftPressed){const r=e.x-this.start.x,n=e.y-this.start.y;if(n!==0){let i=r/n;i=Math.round(i),Math.abs(i)<=1?(t=this.start.x+n*i,s=this.start.y+n):(t=this.start.x+r,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-t),this.attr("y1",this.start.y*2-s),this.attr("x2",t),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",t),this.attr("y2",s)),!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(e.getTotalLength()<5)return!1}catch{return!1}return!0}},Sr=class extends tt{onStart(e){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",e.x),this.attr("y",e.y),this.el}onMove(e){if(!this.el||!this.start)return!1;let[t,s]=At(e.x-this.start.x),[r,n]=At(e.y-this.start.y);if(this.shiftPressed){const i=Math.min(t,r);t=i,r=i}if(this.altPressed)this.attr("x",this.start.x-t),this.attr("y",this.start.y-r),this.attr("width",t*2),this.attr("height",r*2);else{const[i,o]=[this.start.x,this.start.x+t*s].sort(Nt),[a,u]=[this.start.y,this.start.y+r*n].sort(Nt);this.attr("x",i),this.attr("y",a),this.attr("width",o-i),this.attr("height",u-a)}return!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;try{if(!e.getTotalLength())return!1}catch{return!1}return!0}};function ws(e,t,s,r=n=>n){return e*r(.5-t*(.5-s))}function Mr(e){return[-e[0],-e[1]]}function $e(e,t){return[e[0]+t[0],e[1]+t[1]]}function ke(e,t){return[e[0]-t[0],e[1]-t[1]]}function Me(e,t){return[e[0]*t,e[1]*t]}function $r(e,t){return[e[0]/t,e[1]/t]}function it(e){return[e[1],-e[0]]}function ks(e,t){return e[0]*t[0]+e[1]*t[1]}function Pr(e,t){return e[0]===t[0]&&e[1]===t[1]}function Cr(e){return Math.hypot(e[0],e[1])}function Er(e){return e[0]*e[0]+e[1]*e[1]}function Ss(e,t){return Er(ke(e,t))}function en(e){return $r(e,Cr(e))}function Ir(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function ot(e,t,s){let r=Math.sin(s),n=Math.cos(s),i=e[0]-t[0],o=e[1]-t[1],a=i*n-o*r,u=i*r+o*n;return[a+t[0],u+t[1]]}function ts(e,t,s){return $e(e,Me(ke(t,e),s))}function Ms(e,t,s){return $e(e,Me(t,s))}var{min:Qe,PI:Rr}=Math,$s=.275,at=Rr+1e-4;function Lr(e,t={}){let{size:s=16,smoothing:r=.5,thinning:n=.5,simulatePressure:i=!0,easing:o=N=>N,start:a={},end:u={},last:c=!1}=t,{cap:d=!0,easing:h=N=>N*(2-N)}=a,{cap:v=!0,easing:m=N=>--N*N*N+1}=u;if(e.length===0||s<=0)return[];let g=e[e.length-1].runningLength,y=a.taper===!1?0:a.taper===!0?Math.max(s,g):a.taper,p=u.taper===!1?0:u.taper===!0?Math.max(s,g):u.taper,x=Math.pow(s*r,2),I=[],w=[],T=e.slice(0,10).reduce((N,q)=>{let B=q.pressure;if(i){let Y=Qe(1,q.distance/s),rt=Qe(1,1-Y);B=Qe(1,N+(rt-N)*(Y*$s))}return(N+B)/2},e[0].pressure),k=ws(s,n,e[e.length-1].pressure,o),j,M=e[0].vector,W=e[0].point,F=W,O=W,ee=F,ne=!1;for(let N=0;N<e.length;N++){let{pressure:q}=e[N],{point:B,vector:Y,distance:rt,runningLength:$}=e[N];if(N<e.length-1&&g-$<3)continue;if(n){if(i){let te=Qe(1,rt/s),me=Qe(1,1-te);q=Qe(1,T+(me-T)*(te*$s))}k=ws(s,n,q,o)}else k=s/2;j===void 0&&(j=k);let X=$<y?h($/y):1,H=g-$<p?m((g-$)/p):1;k=Math.max(.01,k*Math.min(X,H));let L=(N<e.length-1?e[N+1]:e[N]).vector,A=N<e.length-1?ks(Y,L):1,re=ks(Y,M)<0&&!ne,oe=A!==null&&A<0;if(re||oe){let te=Me(it(M),k);for(let me=1/13,de=0;de<=1;de+=me)O=ot(ke(B,te),B,at*de),I.push(O),ee=ot($e(B,te),B,at*-de),w.push(ee);W=O,F=ee,oe&&(ne=!0);continue}if(ne=!1,N===e.length-1){let te=Me(it(Y),k);I.push(ke(B,te)),w.push($e(B,te));continue}let be=Me(it(ts(L,Y,A)),k);O=ke(B,be),(N<=1||Ss(W,O)>x)&&(I.push(O),W=O),ee=$e(B,be),(N<=1||Ss(F,ee)>x)&&(w.push(ee),F=ee),T=q,M=Y}let ce=e[0].point.slice(0,2),K=e.length>1?e[e.length-1].point.slice(0,2):$e(e[0].point,[1,1]),pe=[],Ie=[];if(e.length===1){if(!(y||p)||c){let N=Ms(ce,en(it(ke(ce,K))),-(j||k)),q=[];for(let B=1/13,Y=B;Y<=1;Y+=B)q.push(ot(N,ce,at*2*Y));return q}}else{if(!(y||p&&e.length===1))if(d)for(let q=1/13,B=q;B<=1;B+=q){let Y=ot(w[0],ce,at*B);pe.push(Y)}else{let q=ke(I[0],w[0]),B=Me(q,.5),Y=Me(q,.51);pe.push(ke(ce,B),ke(ce,Y),$e(ce,Y),$e(ce,B))}let N=it(Mr(e[e.length-1].vector));if(p||y&&e.length===1)Ie.push(K);else if(v){let q=Ms(K,N,k);for(let B=1/29,Y=B;Y<1;Y+=B)Ie.push(ot(q,K,at*3*Y))}else Ie.push($e(K,Me(N,k)),$e(K,Me(N,k*.99)),ke(K,Me(N,k*.99)),ke(K,Me(N,k)))}return I.concat(Ie,w.reverse(),pe)}function Nr(e,t={}){var s;let{streamline:r=.5,size:n=16,last:i=!1}=t;if(e.length===0)return[];let o=.15+(1-r)*.85,a=Array.isArray(e[0])?e:e.map(({x:m,y:g,pressure:y=.5})=>[m,g,y]);if(a.length===2){let m=a[1];a=a.slice(0,-1);for(let g=1;g<5;g++)a.push(ts(a[0],m,g/4))}a.length===1&&(a=[...a,[...$e(a[0],[1,1]),...a[0].slice(2)]]);let u=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],c=!1,d=0,h=u[0],v=a.length-1;for(let m=1;m<a.length;m++){let g=i&&m===v?a[m].slice(0,2):ts(h.point,a[m],o);if(Pr(h.point,g))continue;let y=Ir(g,h.point);if(d+=y,m<v&&!c){if(d<n)continue;c=!0}h={point:g,pressure:a[m][2]>=0?a[m][2]:.5,vector:en(ke(h.point,g)),distance:y,runningLength:d},u.push(h)}return u[0].vector=((s=u[1])==null?void 0:s.vector)||[0,0],u}function Ar(e,t={}){return Lr(Nr(e,t),t)}var Dr=class tn extends tt{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){return tn.getSvgData(t,this.brush)}static getSvgData(t,s){const r=Ar(t,qt({size:s.size,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},s.stylusOptions));if(!r.length)return"";const n=r.reduce((i,[o,a],u,c)=>{const[d,h]=c[(u+1)%c.length];return i.push(o,a,(o+d)/2,(a+h)/2),i},["M",...r[0],"Q"]);return n.push("Z"),n.map(i=>typeof i=="number"?i.toFixed(2):i).join(" ")}};function Vr(e){return{draw:new _r(e),stylus:new Dr(e),line:new kr(e),rectangle:new Sr(e),ellipse:new br(e),eraseLine:new wr(e)}}var Tr=class{constructor(e={}){this.options=e,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=fr(),this._originalPointerId=null,this._models=Vr(this),this._opStack=[],this._opIndex=0,this._disposables=[],this._elements=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),e.el&&this.mount(e.el,e.eventTarget,e.window)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(e){this._models[this.mode].onUnselected(),this.options.brush.mode=e,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(e){this.options.brush=e}resolveSelector(e){return typeof e=="string"?document.querySelector(e):e||null}mount(e,t,s=window){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(e),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const r=this.resolveSelector(t)||this.el,n=this.eventStart.bind(this),i=this.eventMove.bind(this),o=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);r.addEventListener("pointerdown",n,{passive:!1}),s.addEventListener("pointermove",i,{passive:!1}),s.addEventListener("pointerup",o,{passive:!1}),s.addEventListener("pointercancel",o,{passive:!1}),s.addEventListener("keydown",a,!1),s.addEventListener("keyup",a,!1),this._disposables.push(()=>{r.removeEventListener("pointerdown",n),s.removeEventListener("pointermove",i),s.removeEventListener("pointerup",o),s.removeEventListener("pointercancel",o),s.removeEventListener("keydown",a,!1),s.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(e=>e()),this._disposables.length=0,this._elements.length=0,this.el=null,this._emitter.emit("unmounted")}on(e,t){return this._emitter.on(e,t)}undo(){return!this.canUndo()||this.drawing?!1:(this._opStack[--this._opIndex].undo(),this._emitter.emit("changed"),!0)}redo(){return!this.canRedo()||this.drawing?!1:(this._opStack[this._opIndex++].redo(),this._emitter.emit("changed"),!0)}canRedo(){return this._opIndex<this._opStack.length}canUndo(){return this._opIndex>0}eventMove(e){!this.acceptsInput(e)||!this.drawing||this.model._eventMove(e)&&(e.stopPropagation(),e.preventDefault(),this._emitter.emit("changed"))}eventStart(e){this.acceptsInput(e)&&(e.stopPropagation(),e.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._originalPointerId=e.pointerId,this._emitter.emit("start"),this._currentNode=this.model._eventDown(e),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(e){if(!this.acceptsInput(e)||!this.drawing)return;const t=this.model._eventUp(e);if(!t)this.cancel();else if(t===!0){const s=this._currentNode;s&&(this._appendNode(s),this.commit({undo:()=>this._removeNode(s),redo:()=>this._restoreNode(s)}))}else this.commit(t);this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed"),this._originalPointerId=null}acceptsInput(e){return(!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(e.pointerType))&&!(this._originalPointerId&&this._originalPointerId!==e.pointerId)}eventKeyboard(e){this.shiftPressed===e.shiftKey&&this.altPressed===e.altKey||(this.shiftPressed=e.shiftKey,this.altPressed=e.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(e){this._opStack.length=this._opIndex,this._opStack.push(e),this._opIndex++;const t=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",t)}clear(){this._opStack.length=0,this._opIndex=0,this._elements=[],this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(e){this.clear(),this.el.innerHTML=e}_appendNode(e){const t=this._elements.at(-1);t?t.after(e):this.el.append(e);const s=this._elements.push(e)-1;e.dataset.drauu_index=s.toString()}_removeNode(e){e.remove(),this._elements[+e.dataset.drauu_index]=null}_restoreNode(e){const t=+e.dataset.drauu_index;this._elements[t]=e;for(let s=t-1;s>=0;s--){const r=this._elements[s];if(r){r.after(e);return}}this.el.prepend(e)}};function Fr(e){return new Tr(e)}const st=pn(()=>{const{currentSlideNo:e,isPresenter:t}=ve(),s=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],r=Ft("slidev-drawing-enabled",!1),n=Ft("slidev-drawing-pinned",!1),i=mn(Ft("slidev-drawing-brush",{color:s[0],size:4,mode:"stylus"})),o=z(!1),a=z(!1),u=z(!1),c=z(!1),d=z("stylus"),h=P(()=>ue.drawings.syncAll||t.value);let v=!1;const m=P({get(){return d.value},set(w){d.value=w,w==="arrow"?(y.mode="line",i.arrowEnd=!0):(y.mode=w,i.arrowEnd=!1)}}),g=Ts({brush:i,acceptsInputTypes:P(()=>r.value&&(!ue.drawings.presenterOnly||t.value)?void 0:["pen"]),coordinateTransform:!1}),y=gn(Fr(g));function p(){y.clear(),h.value&&ps(e.value,"")}function x(){var w;u.value=y.canRedo(),a.value=y.canUndo(),c.value=!!((w=y.el)!=null&&w.children.length)}function I(w){v=!0;const T=Ot[w||e.value];T!=null?y.load(T):y.clear(),x(),v=!1}return y.on("changed",()=>{if(x(),!v){const w=y.dump(),T=e.value;(Ot[T]||"")!==w&&h.value&&ps(T,y.dump())}}),An(w=>{v=!0,w[e.value]!=null&&y.load(w[e.value]||""),v=!1,x()}),yn(()=>{Xe(e,()=>{y.mounted&&I()},{immediate:!0})}),y.on("start",()=>o.value=!0),y.on("end",()=>o.value=!1),window.addEventListener("keydown",w=>{if(!r.value||Us.value)return;const T=!w.ctrlKey&&!w.altKey&&!w.shiftKey&&!w.metaKey;let k=!0;w.code==="KeyZ"&&(w.ctrlKey||w.metaKey)?w.shiftKey?y.redo():y.undo():w.code==="Escape"?r.value=!1:w.code==="KeyL"&&T?m.value="line":w.code==="KeyA"&&T?m.value="arrow":w.code==="KeyS"&&T?m.value="stylus":w.code==="KeyR"&&T?m.value="rectangle":w.code==="KeyE"&&T?m.value="ellipse":w.code==="KeyC"&&T?p():w.code.startsWith("Digit")&&T&&+w.code[5]<=s.length?i.color=s[+w.code[5]-1]:k=!1,k&&(w.preventDefault(),w.stopPropagation())},!1),{brush:i,brushColors:s,canClear:c,canRedo:u,canUndo:a,clear:p,drauu:y,drauuOptions:g,drawingEnabled:r,drawingMode:m,drawingPinned:n,drawingState:Ot,isDrawing:o,loadCanvas:I}}),Or=2e3;function zr(e){const t=P(()=>e.value&&St.value);function s(){document.body.style.cursor="none"}function r(){document.body.style.cursor=""}let n=null;Xe(t,i=>{i||r()}),ls(document.body,["pointermove","pointerdown"],()=>{r(),n&&clearTimeout(n),t.value&&(n=setTimeout(s,Or))},{passive:!0})}function jr(e){const{next:t,nextSlide:s,prev:r,prevSlide:n}=ve(),{isDrawing:i}=st(),o=z(0),{direction:a,distanceX:u,distanceY:c}=xn(e,{pointerTypes:["touch"],onSwipeStart(){i.value||(o.value=_n())},onSwipeEnd(){if(!o.value||i.value)return;const d=Math.abs(u.value),h=Math.abs(c.value);d/window.innerWidth>.3||d>75?a.value==="left"?t():r():(h/window.innerHeight>.4||h>200)&&(a.value==="down"?n():s())}})}function Br(){const{request:e,release:t}=Fs();Xe(Mt,s=>{s?e("screen"):t()},{immediate:!0})}const Kr=[];let Ht;const Hr=()=>{if(Ht)return Ht;const{next:e,nextSlide:t,prev:s,prevSlide:r,hasNext:n,hasPrev:i,currentPage:o,total:a,isPresenter:u,enterPresenter:c,exitPresenter:d,isEmbedded:h,isPresenterAvailable:v}=ve(),{drawingEnabled:m}=st(),{isFullscreen:g,toggle:y}=cs;return Ht=Kr.reduce((p,x)=>x(p),P(()=>[{small:!0,icon:"i-carbon:arrow-left",label:"Previous Click",action:s,disabled:!i.value},{small:!0,icon:"i-carbon:arrow-right",label:"Next Click",action:e,disabled:!n.value},{small:!0,icon:"i-carbon:arrow-up",label:"Previous Slide",action:r,disabled:o.value<=1},{small:!0,icon:"i-carbon:arrow-down",label:"Next Slide",action:t,disabled:o.value>=a.value},"separator",{icon:"i-carbon:text-annotation-toggle",label:qe.value?"Hide editor":"Show editor",action:()=>qe.value=!qe.value},{icon:"i-carbon:pen",label:m.value?"Hide drawing toolbar":"Show drawing toolbar",action:()=>m.value=!m.value},{icon:"i-carbon:apps",label:"Show slide overview",action:It},u.value&&{icon:"i-carbon:presentation-file",label:"Exit Presenter Mode",action:d},!1,!h.value&&{icon:g.value?"i-carbon:minimize":"i-carbon:maximize",label:g.value?"Close fullscreen":"Enter fullscreen",action:y}].filter(Boolean)))},Ze=Ye(null);function Ur(e,t){Ze.value={x:e,y:t,items:Hr()}}function lt(){Ze.value=null}function Gr(e){if(ue.contextMenu!==!0&&ue.contextMenu!=null&&ue.contextMenu!==Dn||e.shiftKey||e.defaultPrevented)return;const{isEmbedded:t}=ve();t.value||(Ur(e.pageX,e.pageY),e.preventDefault(),e.stopPropagation())}const Wr=["title","onClick"],Yr=["onClick"],Xr={class:"mx-auto flex"},Qr={key:0},Zr={class:"w-full text-xs p2"},Jr={class:"text-main text-opacity-50!"},qr=G({__name:"ContextMenu",setup(e){const t=z();Os(t,lt),ls(document,"mousedown",u=>{u.buttons&2&&lt()},{passive:!0,capture:!0});const s=P(()=>ue.contextMenu!=null),r=bn();Xe(r,u=>{u||lt()}),ur(1);const{width:n,height:i}=wn(t),o=P(()=>{var c;const u=(c=Ze.value)==null?void 0:c.x;return u?u+n.value>We.width.value?We.width.value-n.value:u:0}),a=P(()=>{var c;const u=(c=Ze.value)==null?void 0:c.y;return u?u+i.value>We.height.value?We.height.value-i.value:u:0});return(u,c)=>l(Ze)?(f(),b("div",{key:0,ref_key:"container",ref:t,style:fe(`left:${o.value}px;top:${a.value}px`),class:"slidev-glass-effect fixed z-context-menu w-60 flex flex-wrap justify-items-start p-1 animate-fade-in animate-duration-100 rounded-md shadow overflow-hidden select-none",onContextmenu:c[1]||(c[1]=zs(()=>{},["prevent"])),onClick:c[2]||(c[2]=(...d)=>l(lt)&&l(lt)(...d))},[(f(!0),b(U,null,mt(l(Ze).items.value,(d,h)=>(f(),b(U,{key:h},[d==="separator"?(f(),b("div",{key:h,class:"w-full my1 border-t border-main"})):d.small?(f(),b("div",{key:1,class:Q(["p-2 w-[40px] h-[40px] inline-block text-center cursor-pointer rounded flex",d.disabled?"op40":"hover:bg-active"]),title:d.label,onClick:d.action},[typeof d.icon=="string"?(f(),b("div",{key:0,class:Q([d.icon,"text-1.2em ma"])},null,2)):(f(),R(ze(d.icon),{key:1}))],10,Wr)):(f(),b("div",{key:2,class:Q(["w-full grid grid-cols-[35px_1fr] p-2 pl-0 cursor-pointer rounded",d.disabled?"op40":"hover:bg-active"]),onClick:d.action},[_("div",Xr,[typeof d.icon=="string"?(f(),b("div",{key:0,class:Q([d.icon,"text-1.2em ma"])},null,2)):(f(),R(ze(d.icon),{key:1}))]),typeof d.label=="string"?(f(),b("div",Qr,le(d.label),1)):(f(),R(ze(d.label),{key:1}))],10,Yr))],64))),128)),s.value?S("v-if",!0):(f(),b(U,{key:0},[c[6]||(c[6]=_("div",{class:"w-full my1 border-t border-main"},null,-1)),_("div",Zr,[_("div",Jr,[c[3]||(c[3]=je(" Hold ")),c[4]||(c[4]=_("kbd",{class:"border px1 py0.5 border-main rounded text-primary"},"Shift",-1)),c[5]||(c[5]=je(" and right click to open the native context menu ")),S("v-if",!0)])])],64))],36)):S("v-if",!0)}});function Ve(e){return Array.isArray?Array.isArray(e):rn(e)==="[object Array]"}function ei(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ti(e){return e==null?"":ei(e)}function Ee(e){return typeof e=="string"}function sn(e){return typeof e=="number"}function si(e){return e===!0||e===!1||ni(e)&&rn(e)=="[object Boolean]"}function nn(e){return typeof e=="object"}function ni(e){return nn(e)&&e!==null}function _e(e){return e!=null}function Ut(e){return!e.trim().length}function rn(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const ri="Incorrect 'index' type",ii=e=>`Invalid value for key ${e}`,oi=e=>`Pattern length exceeds max of ${e}.`,ai=e=>`Missing ${e} property in key`,li=e=>`Property 'weight' in key '${e}' must be a positive integer`,Ps=Object.prototype.hasOwnProperty;class ui{constructor(t){this._keys=[],this._keyMap={};let s=0;t.forEach(r=>{let n=on(r);this._keys.push(n),this._keyMap[n.id]=n,s+=n.weight}),this._keys.forEach(r=>{r.weight/=s})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function on(e){let t=null,s=null,r=null,n=1,i=null;if(Ee(e)||Ve(e))r=e,t=Cs(e),s=ss(e);else{if(!Ps.call(e,"name"))throw new Error(ai("name"));const o=e.name;if(r=o,Ps.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(li(o));t=Cs(o),s=ss(o),i=e.getFn}return{path:t,id:s,weight:n,src:r,getFn:i}}function Cs(e){return Ve(e)?e:e.split(".")}function ss(e){return Ve(e)?e.join("."):e}function ci(e,t){let s=[],r=!1;const n=(i,o,a)=>{if(_e(i))if(!o[a])s.push(i);else{let u=o[a];const c=i[u];if(!_e(c))return;if(a===o.length-1&&(Ee(c)||sn(c)||si(c)))s.push(ti(c));else if(Ve(c)){r=!0;for(let d=0,h=c.length;d<h;d+=1)n(c[d],o,a+1)}else o.length&&n(c,o,a+1)}};return n(e,Ee(t)?t.split("."):t,0),r?s:s[0]}const di={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},hi={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},fi={location:0,threshold:.6,distance:100},vi={useExtendedSearch:!1,getFn:ci,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var E={...hi,...di,...fi,...vi};const pi=/[^ ]+/g;function mi(e=1,t=3){const s=new Map,r=Math.pow(10,t);return{get(n){const i=n.match(pi).length;if(s.has(i))return s.get(i);const o=1/Math.pow(i,.5*e),a=parseFloat(Math.round(o*r)/r);return s.set(i,a),a},clear(){s.clear()}}}class hs{constructor({getFn:t=E.getFn,fieldNormWeight:s=E.fieldNormWeight}={}){this.norm=mi(s,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((s,r)=>{this._keysMap[s.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ee(this.docs[0])?this.docs.forEach((t,s)=>{this._addString(t,s)}):this.docs.forEach((t,s)=>{this._addObject(t,s)}),this.norm.clear())}add(t){const s=this.size();Ee(t)?this._addString(t,s):this._addObject(t,s)}removeAt(t){this.records.splice(t,1);for(let s=t,r=this.size();s<r;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(t,s){return t[this._keysMap[s]]}size(){return this.records.length}_addString(t,s){if(!_e(t)||Ut(t))return;let r={v:t,i:s,n:this.norm.get(t)};this.records.push(r)}_addObject(t,s){let r={i:s,$:{}};this.keys.forEach((n,i)=>{let o=n.getFn?n.getFn(t):this.getFn(t,n.path);if(_e(o)){if(Ve(o)){let a=[];const u=[{nestedArrIndex:-1,value:o}];for(;u.length;){const{nestedArrIndex:c,value:d}=u.pop();if(_e(d))if(Ee(d)&&!Ut(d)){let h={v:d,i:c,n:this.norm.get(d)};a.push(h)}else Ve(d)&&d.forEach((h,v)=>{u.push({nestedArrIndex:v,value:h})})}r.$[i]=a}else if(Ee(o)&&!Ut(o)){let a={v:o,n:this.norm.get(o)};r.$[i]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function an(e,t,{getFn:s=E.getFn,fieldNormWeight:r=E.fieldNormWeight}={}){const n=new hs({getFn:s,fieldNormWeight:r});return n.setKeys(e.map(on)),n.setSources(t),n.create(),n}function gi(e,{getFn:t=E.getFn,fieldNormWeight:s=E.fieldNormWeight}={}){const{keys:r,records:n}=e,i=new hs({getFn:t,fieldNormWeight:s});return i.setKeys(r),i.setIndexRecords(n),i}function wt(e,{errors:t=0,currentLocation:s=0,expectedLocation:r=0,distance:n=E.distance,ignoreLocation:i=E.ignoreLocation}={}){const o=t/e.length;if(i)return o;const a=Math.abs(r-s);return n?o+a/n:a?1:o}function yi(e=[],t=E.minMatchCharLength){let s=[],r=-1,n=-1,i=0;for(let o=e.length;i<o;i+=1){let a=e[i];a&&r===-1?r=i:!a&&r!==-1&&(n=i-1,n-r+1>=t&&s.push([r,n]),r=-1)}return e[i-1]&&i-r>=t&&s.push([r,i-1]),s}const Ge=32;function xi(e,t,s,{location:r=E.location,distance:n=E.distance,threshold:i=E.threshold,findAllMatches:o=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,includeMatches:u=E.includeMatches,ignoreLocation:c=E.ignoreLocation}={}){if(t.length>Ge)throw new Error(oi(Ge));const d=t.length,h=e.length,v=Math.max(0,Math.min(r,h));let m=i,g=v;const y=a>1||u,p=y?Array(h):[];let x;for(;(x=e.indexOf(t,g))>-1;){let M=wt(t,{currentLocation:x,expectedLocation:v,distance:n,ignoreLocation:c});if(m=Math.min(M,m),g=x+d,y){let W=0;for(;W<d;)p[x+W]=1,W+=1}}g=-1;let I=[],w=1,T=d+h;const k=1<<d-1;for(let M=0;M<d;M+=1){let W=0,F=T;for(;W<F;)wt(t,{errors:M,currentLocation:v+F,expectedLocation:v,distance:n,ignoreLocation:c})<=m?W=F:T=F,F=Math.floor((T-W)/2+W);T=F;let O=Math.max(1,v-F+1),ee=o?h:Math.min(v+F,h)+d,ne=Array(ee+2);ne[ee+1]=(1<<M)-1;for(let K=ee;K>=O;K-=1){let pe=K-1,Ie=s[e.charAt(pe)];if(y&&(p[pe]=+!!Ie),ne[K]=(ne[K+1]<<1|1)&Ie,M&&(ne[K]|=(I[K+1]|I[K])<<1|1|I[K+1]),ne[K]&k&&(w=wt(t,{errors:M,currentLocation:pe,expectedLocation:v,distance:n,ignoreLocation:c}),w<=m)){if(m=w,g=pe,g<=v)break;O=Math.max(1,2*v-g)}}if(wt(t,{errors:M+1,currentLocation:v,expectedLocation:v,distance:n,ignoreLocation:c})>m)break;I=ne}const j={isMatch:g>=0,score:Math.max(.001,w)};if(y){const M=yi(p,a);M.length?u&&(j.indices=M):j.isMatch=!1}return j}function _i(e){let t={};for(let s=0,r=e.length;s<r;s+=1){const n=e.charAt(s);t[n]=(t[n]||0)|1<<r-s-1}return t}class ln{constructor(t,{location:s=E.location,threshold:r=E.threshold,distance:n=E.distance,includeMatches:i=E.includeMatches,findAllMatches:o=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,isCaseSensitive:u=E.isCaseSensitive,ignoreLocation:c=E.ignoreLocation}={}){if(this.options={location:s,threshold:r,distance:n,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(v,m)=>{this.chunks.push({pattern:v,alphabet:_i(v),startIndex:m})},h=this.pattern.length;if(h>Ge){let v=0;const m=h%Ge,g=h-m;for(;v<g;)d(this.pattern.substr(v,Ge),v),v+=Ge;if(m){const y=h-Ge;d(this.pattern.substr(y),y)}}else d(this.pattern,0)}searchIn(t){const{isCaseSensitive:s,includeMatches:r}=this.options;if(s||(t=t.toLowerCase()),this.pattern===t){let g={isMatch:!0,score:0};return r&&(g.indices=[[0,t.length-1]]),g}const{location:n,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:u,ignoreLocation:c}=this.options;let d=[],h=0,v=!1;this.chunks.forEach(({pattern:g,alphabet:y,startIndex:p})=>{const{isMatch:x,score:I,indices:w}=xi(t,g,y,{location:n+p,distance:i,threshold:o,findAllMatches:a,minMatchCharLength:u,includeMatches:r,ignoreLocation:c});x&&(v=!0),h+=I,x&&w&&(d=[...d,...w])});let m={isMatch:v,score:v?h/this.chunks.length:1};return v&&r&&(m.indices=d),m}}class He{constructor(t){this.pattern=t}static isMultiMatch(t){return Es(t,this.multiRegex)}static isSingleMatch(t){return Es(t,this.singleRegex)}search(){}}function Es(e,t){const s=e.match(t);return s?s[1]:null}class bi extends He{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const s=t===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class wi extends He{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class ki extends He{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const s=t.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class Si extends He{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const s=!t.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class Mi extends He{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const s=t.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class $i extends He{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const s=!t.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class un extends He{constructor(t,{location:s=E.location,threshold:r=E.threshold,distance:n=E.distance,includeMatches:i=E.includeMatches,findAllMatches:o=E.findAllMatches,minMatchCharLength:a=E.minMatchCharLength,isCaseSensitive:u=E.isCaseSensitive,ignoreLocation:c=E.ignoreLocation}={}){super(t),this._bitapSearch=new ln(t,{location:s,threshold:r,distance:n,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class cn extends He{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let s=0,r;const n=[],i=this.pattern.length;for(;(r=t.indexOf(this.pattern,s))>-1;)s=r+i,n.push([r,s-1]);const o=!!n.length;return{isMatch:o,score:o?0:1,indices:n}}}const ns=[bi,cn,ki,Si,$i,Mi,wi,un],Is=ns.length,Pi=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ci="|";function Ei(e,t={}){return e.split(Ci).map(s=>{let r=s.trim().split(Pi).filter(i=>i&&!!i.trim()),n=[];for(let i=0,o=r.length;i<o;i+=1){const a=r[i];let u=!1,c=-1;for(;!u&&++c<Is;){const d=ns[c];let h=d.isMultiMatch(a);h&&(n.push(new d(h,t)),u=!0)}if(!u)for(c=-1;++c<Is;){const d=ns[c];let h=d.isSingleMatch(a);if(h){n.push(new d(h,t));break}}}return n})}const Ii=new Set([un.type,cn.type]);class Ri{constructor(t,{isCaseSensitive:s=E.isCaseSensitive,includeMatches:r=E.includeMatches,minMatchCharLength:n=E.minMatchCharLength,ignoreLocation:i=E.ignoreLocation,findAllMatches:o=E.findAllMatches,location:a=E.location,threshold:u=E.threshold,distance:c=E.distance}={}){this.query=null,this.options={isCaseSensitive:s,includeMatches:r,minMatchCharLength:n,findAllMatches:o,ignoreLocation:i,location:a,threshold:u,distance:c},this.pattern=s?t:t.toLowerCase(),this.query=Ei(this.pattern,this.options)}static condition(t,s){return s.useExtendedSearch}searchIn(t){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:n}=this.options;t=n?t:t.toLowerCase();let i=0,o=[],a=0;for(let u=0,c=s.length;u<c;u+=1){const d=s[u];o.length=0,i=0;for(let h=0,v=d.length;h<v;h+=1){const m=d[h],{isMatch:g,indices:y,score:p}=m.search(t);if(g){if(i+=1,a+=p,r){const x=m.constructor.type;Ii.has(x)?o=[...o,...y]:o.push(y)}}else{a=0,i=0,o.length=0;break}}if(i){let h={isMatch:!0,score:a/i};return r&&(h.indices=o),h}}return{isMatch:!1,score:1}}}const rs=[];function Li(...e){rs.push(...e)}function is(e,t){for(let s=0,r=rs.length;s<r;s+=1){let n=rs[s];if(n.condition(e,t))return new n(e,t)}return new ln(e,t)}const Dt={AND:"$and",OR:"$or"},os={PATH:"$path",PATTERN:"$val"},as=e=>!!(e[Dt.AND]||e[Dt.OR]),Ni=e=>!!e[os.PATH],Ai=e=>!Ve(e)&&nn(e)&&!as(e),Rs=e=>({[Dt.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function dn(e,t,{auto:s=!0}={}){const r=n=>{let i=Object.keys(n);const o=Ni(n);if(!o&&i.length>1&&!as(n))return r(Rs(n));if(Ai(n)){const u=o?n[os.PATH]:i[0],c=o?n[os.PATTERN]:n[u];if(!Ee(c))throw new Error(ii(u));const d={keyId:ss(u),pattern:c};return s&&(d.searcher=is(c,t)),d}let a={children:[],operator:i[0]};return i.forEach(u=>{const c=n[u];Ve(c)&&c.forEach(d=>{a.children.push(r(d))})}),a};return as(e)||(e=Rs(e)),r(e)}function Di(e,{ignoreFieldNorm:t=E.ignoreFieldNorm}){e.forEach(s=>{let r=1;s.matches.forEach(({key:n,norm:i,score:o})=>{const a=n?n.weight:null;r*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(t?1:i))}),s.score=r})}function Vi(e,t){const s=e.matches;t.matches=[],_e(s)&&s.forEach(r=>{if(!_e(r.indices)||!r.indices.length)return;const{indices:n,value:i}=r;let o={indices:n,value:i};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),t.matches.push(o)})}function Ti(e,t){t.score=e.score}function Fi(e,t,{includeMatches:s=E.includeMatches,includeScore:r=E.includeScore}={}){const n=[];return s&&n.push(Vi),r&&n.push(Ti),e.map(i=>{const{idx:o}=i,a={item:t[o],refIndex:o};return n.length&&n.forEach(u=>{u(i,a)}),a})}class nt{constructor(t,s={},r){this.options={...E,...s},this.options.useExtendedSearch,this._keyStore=new ui(this.options.keys),this.setCollection(t,r)}setCollection(t,s){if(this._docs=t,s&&!(s instanceof hs))throw new Error(ri);this._myIndex=s||an(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){_e(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const s=[];for(let r=0,n=this._docs.length;r<n;r+=1){const i=this._docs[r];t(i,r)&&(this.removeAt(r),r-=1,n-=1,s.push(i))}return s}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:s=-1}={}){const{includeMatches:r,includeScore:n,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let u=Ee(t)?Ee(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Di(u,{ignoreFieldNorm:a}),i&&u.sort(o),sn(s)&&s>-1&&(u=u.slice(0,s)),Fi(u,this._docs,{includeMatches:r,includeScore:n})}_searchStringList(t){const s=is(t,this.options),{records:r}=this._myIndex,n=[];return r.forEach(({v:i,i:o,n:a})=>{if(!_e(i))return;const{isMatch:u,score:c,indices:d}=s.searchIn(i);u&&n.push({item:i,idx:o,matches:[{score:c,value:i,norm:a,indices:d}]})}),n}_searchLogical(t){const s=dn(t,this.options),r=(a,u,c)=>{if(!a.children){const{keyId:h,searcher:v}=a,m=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(u,h),searcher:v});return m&&m.length?[{idx:c,item:u,matches:m}]:[]}const d=[];for(let h=0,v=a.children.length;h<v;h+=1){const m=a.children[h],g=r(m,u,c);if(g.length)d.push(...g);else if(a.operator===Dt.AND)return[]}return d},n=this._myIndex.records,i={},o=[];return n.forEach(({$:a,i:u})=>{if(_e(a)){let c=r(s,a,u);c.length&&(i[u]||(i[u]={idx:u,item:a,matches:[]},o.push(i[u])),c.forEach(({matches:d})=>{i[u].matches.push(...d)}))}}),o}_searchObjectList(t){const s=is(t,this.options),{keys:r,records:n}=this._myIndex,i=[];return n.forEach(({$:o,i:a})=>{if(!_e(o))return;let u=[];r.forEach((c,d)=>{u.push(...this._findMatches({key:c,value:o[d],searcher:s}))}),u.length&&i.push({idx:a,item:o,matches:u})}),i}_findMatches({key:t,value:s,searcher:r}){if(!_e(s))return[];let n=[];if(Ve(s))s.forEach(({v:i,i:o,n:a})=>{if(!_e(i))return;const{isMatch:u,score:c,indices:d}=r.searchIn(i);u&&n.push({score:c,key:t,value:i,idx:o,norm:a,indices:d})});else{const{v:i,n:o}=s,{isMatch:a,score:u,indices:c}=r.searchIn(i);a&&n.push({score:u,key:t,value:i,norm:o,indices:c})}return n}}nt.version="7.0.0";nt.createIndex=an;nt.parseIndex=gi;nt.config=E;nt.parseQuery=dn;Li(Ri);const Oi={class:"bg-main transform",shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:main"},zi=["value","disabled"],ji={table:"","w-full":"","border-collapse":""},Bi=["border","onClick"],Ki={"text-right":"",op50:"","text-sm":"","table-cell":"","py-2":"","pl-4":"","pr-3":"","vertical-middle":""},Hi=G({__name:"Goto",setup(e){const t=z(),s=z(),r=z(),n=z(),i=z(""),o=z(0),{go:a,slides:u}=ve();function c(k){return k!=null}const d=P(()=>new nt(u.value.map(k=>{var j;return(j=k.meta)==null?void 0:j.slide}).filter(c),{keys:["no","title"],threshold:.3,shouldSort:!0,minMatchCharLength:1})),h=P(()=>i.value.startsWith("/")?i.value.substring(1):i.value),v=P(()=>d.value.search(h.value).map(k=>k.item)),m=P(()=>!!v.value.length);function g(){if(m.value){const k=v.value.at(o.value||0);k&&a(k.no)}y()}function y(){i.value="",Oe.value=!1}function p(k){k.preventDefault(),o.value++,o.value>=v.value.length&&(o.value=0),I()}function x(k){k.preventDefault(),o.value--,o.value<=-2&&(o.value=v.value.length-1),I()}function I(){var j;const k=(j=n.value)==null?void 0:j[o.value];k&&r.value&&(k.offsetTop+k.offsetHeight>r.value.offsetHeight+r.value.scrollTop?r.value.scrollTo({behavior:"smooth",top:k.offsetTop+k.offsetHeight-r.value.offsetHeight+1}):k.offsetTop<r.value.scrollTop&&r.value.scrollTo({behavior:"smooth",top:k.offsetTop}))}function w(k){o.value=0,i.value=k.target.value}function T(k){a(k),y()}return Xe(Oe,async k=>{var j;k?(i.value="",o.value=0,setTimeout(()=>{var M;return(M=s.value)==null?void 0:M.focus()},0)):(j=s.value)==null||j.blur()}),Xe(dt,()=>{var k;(k=t.value)!=null&&k.contains(dt.value)||y()}),(k,j)=>(f(),b("div",{id:"slidev-goto-dialog",ref_key:"container",ref:t,class:Q(["fixed right-5 transition-all",l(Oe)?"top-5":"-top-20"]),"w-90":"","max-w-90":"","min-w-90":""},[_("div",Oi,[_("input",{id:"slidev-goto-input",ref_key:"input",ref:s,value:i.value,type:"text",disabled:!l(Oe),class:Q(["outline-none bg-transparent",{"text-red-400":!m.value&&i.value}]),placeholder:"Goto...",onKeydown:[xt(g,["enter"]),xt(y,["escape"]),xt(p,["down"]),xt(x,["up"])],onInput:w},null,42,zi)]),v.value.length>0?(f(),b("div",{key:0,ref_key:"list",ref:r,class:"autocomplete-list",shadow:"~",border:"~ transparent rounded dark:main"},[_("ul",ji,[(f(!0),b(U,null,mt(v.value,(M,W)=>(f(),b("li",{ref_for:!0,ref_key:"items",ref:n,key:M.id,role:"button",tabindex:"0","cursor-pointer":"",hover:"op100","table-row":"","items-center":"",border:W===0?void 0:"t main",class:Q(o.value===W?"bg-active op100":"op80"),onClick:zs(F=>T(M.no),["stop","prevent"])},[_("div",Ki,le(M.no),1),C(l(sr),{"table-cell":"","py-2":"","pr-4":"","w-full":"",no:M.no},null,8,["no"])],10,Bi))),128))])],512)):S("v-if",!0)],2))}}),Ui=gt(Hi,[["__scopeId","data-v-cba06e55"]]),Gi="/project/assets/logo-BYkHSa_O.png",Wi={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-modal"},Yi=G({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=us(s,"modelValue",t);function i(){n.value=!1}return(o,a)=>(f(),R(js,null,[l(n)?(f(),b("div",Wi,[_("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=u=>i())}),_("div",{class:Q(["m-auto rounded-md bg-main shadow",s.class]),"dark:border":"~ main"},[Be(o.$slots,"default")],2)])):S("v-if",!0)],1024))}}),Xi={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},Qi=["innerHTML"],Zi=G({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=us(e,"modelValue",t),i=P(()=>typeof ue.info=="string");return(o,a)=>(f(),R(Yi,{modelValue:l(n),"onUpdate:modelValue":a[0]||(a[0]=u=>Je(n)?n.value=u:null),class:"px-6 py-4"},{default:D(()=>[_("div",Xi,[i.value?(f(),b("div",{key:0,class:"mb-4",innerHTML:l(ue).info},null,8,Qi)):S("v-if",!0),a[1]||(a[1]=_("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[_("div",{class:"flex gap-1 children:my-auto"},[_("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),_("img",{class:"w-5 h-5",src:Gi,alt:"Slidev logo"}),_("div",{style:{color:"#2082A6"}},[_("b",null,"Sli"),je("dev ")])])],-1))])]),_:1},8,["modelValue"]))}}),$t=z(1),Pt=P(()=>Vn.value.length),ie=z(0),fs=z(0);function Ji(){ie.value>$t.value&&(ie.value-=1)}function qi(){ie.value<Pt.value&&(ie.value+=1)}function eo(){if(ie.value>$t.value){let e=ie.value-fs.value;e<$t.value&&(e=$t.value),ie.value=e}}function to(){if(ie.value<Pt.value){let e=ie.value+fs.value;e>Pt.value&&(e=Pt.value),ie.value=e}}var Ds;(Ds=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||Ds[1];const Ke=Ts({});let so=[],no=[];et(Ke,"$syncUp",!0);et(Ke,"$syncDown",!0);et(Ke,"$paused",!1);et(Ke,"$onSet",e=>so.push(e));et(Ke,"$onPatch",e=>no.push(e));Tn();et(Ke,"$patch",async()=>!1);const ro=Fn(Ke,Ke,!0);var Vs;(Vs=window.navigator.userAgent.match(/Chrome\/(\d+)/))==null||Vs[1];class io{constructor(){this._screenshotSession=null}getSnapshot(t,s){const r=t+(s?"-dark":"-light"),n=ro.state[r];if(!n)return;const i=Et(t);if(i&&(n==null?void 0:n.revision)===(i==null?void 0:i.meta.slide.revision))return n.image}async saveSnapshot(t,s,r){return!1}async startCapturing(t){return!1}}const oo=new io,ao=["innerHTML"],lo=G({__name:"DrawingPreview",props:{page:{}},setup(e){const{drawingState:t}=st();return(s,r)=>l(t)[s.page]?(f(),b("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:l(t)[s.page]},null,8,ao)):S("v-if",!0)}}),uo={class:"sr-only"},ye=G({__name:"IconButton",props:{title:{},icon:{},as:{},to:{}},setup(e){const t=e,s=P(()=>t.as||(t.to?"router-link":"button"));return(r,n)=>(f(),R(ze(s.value),{class:"slidev-icon-btn",title:r.title,to:r.to},{default:D(()=>[_("span",uo,le(r.title),1),Be(r.$slots,"default",{},()=>[_("div",{class:Q(r.icon)},null,2)])]),_:3},8,["title","to"]))}}),co=["id"],ho=["id"],fo={class:"slidev-slide-container w-full h-full relative"},vo=["src"],po=G({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1},no:{type:Number,required:!1},useSnapshot:{type:Boolean,default:!1},contentStyle:{type:Object,default:()=>({})}},setup(e){const t=e,{isPrintMode:s}=ve(),r=z(null),n=kn(r),i=z(null),o=P(()=>t.width??n.width.value),a=P(()=>t.width?t.width/ms.value:n.height.value),u=P(()=>ht.value&&!s.value?+ht.value:Math.min(o.value/Rt.value,a.value/Lt.value)),c=P(()=>({...t.contentStyle,height:`${Lt.value}px`,width:`${Rt.value}px`,transform:`translate(-50%, -50%) scale(${u.value})`,"--slidev-slide-scale":u.value})),d=P(()=>t.width?{width:`${t.width}px`,height:`${t.width/ms.value}px`}:{});t.isMain&&Sn(P(()=>`:root { --slidev-slide-scale: ${u.value}; }`)),Fe(Gs,u),Fe(On,i);const h=P(()=>{if(!(t.no==null||!t.useSnapshot))return oo.getSnapshot(t.no,pt.value)});return(v,m)=>h.value?(f(),b(U,{key:1},[S(" Image Snapshot "),_("div",fo,[_("img",{src:h.value,class:"w-full h-full object-cover",style:fe(d.value)},null,12,vo),m[0]||(m[0]=_("div",{absolute:"","bottom-1":"","right-1":"","p0.5":"","text-cyan:75":"","bg-cyan:10":"",rounded:"",title:"Snapshot"},[_("div",{class:"i-carbon-camera"})],-1))])],2112)):(f(),b("div",{key:0,id:e.isMain?"slide-container":void 0,ref_key:"container",ref:r,class:"slidev-slide-container",style:fe(d.value)},[_("div",{id:e.isMain?"slide-content":void 0,ref_key:"slideElement",ref:i,class:"slidev-slide-content",style:fe(c.value)},[Be(v.$slots,"default",{},void 0,!0)],12,ho),Be(v.$slots,"controls",{},void 0,!0)],12,co))}}),hn=gt(po,[["__scopeId","data-v-3d836f8a"]]),mo=G({__name:"SlidesTotal",setup(e){const{$nav:t}=Tt();return(s,r)=>(f(),b("span",null,le(l(t).total),1))}}),go=G({__name:"SlideCurrentNo",setup(e){const{$page:t}=Tt();return(s,r)=>(f(),b("span",null,le(l(t)),1))}}),yo=G({__name:"Pagination",props:{classNames:{type:[Array,String]},x:{default:"r",type:String,validator:e=>e==="l"||e==="r"},y:{default:"t",type:String,validator:e=>e==="b"||e==="t"}},setup(e){Tt();const t=P(()=>[...e.classNames?Array.isArray(e.classNames)?e.classNames:[e.classNames]:[],e.x==="l"&&"left-0",e.x==="r"&&"right-0",e.y==="t"&&"top-0",e.y==="b"&&"bottom-0"]);return(s,r)=>{const n=go,i=mo;return f(),b("div",{class:Q(["absolute p-2 text-xs",t.value])},[C(n),r[0]||(r[0]=je(" / ")),C(i)],2)}}}),xo={__name:"global-top",setup(e){const{$slidev:t,$nav:s,$clicksContext:r,$clicks:n,$page:i,$renderContext:o,$frontmatter:a}=Tt();return(u,c)=>{var h;const d=yo;return l(t).nav.currentPage!==l(t).nav.total+1&&!((h=l(t).themeConfigs.paginationPagesDisabled)!=null&&h.includes(l(t).nav.currentPage))&&(l(t).themeConfigs.paginationX||l(t).themeConfigs.paginationY)?(f(),R(d,{key:0,x:l(t).themeConfigs.paginationX,y:l(t).themeConfigs.paginationY},null,8,["x","y"])):S("v-if",!0)}}},_o={render:()=>[Mn(xo)]},bo={render:()=>[]},wo={render:()=>[]},ko={render:()=>[]},So=["data-slidev-no","lang"],Mo=G({__name:"SlideWrapper",props:{clicksContext:{type:Object,required:!0},renderContext:{type:String,default:"slide"},route:{type:Object,required:!0}},setup(e){const t=e,s=P(()=>{var i,o;return((o=(i=t.route.meta)==null?void 0:i.slide)==null?void 0:o.frontmatter.zoom)??1});Fe(zn,t.route),Fe(jn,t.route.meta.slide.frontmatter),Fe(Bn,z(t.route.no)),Fe(Kn,z(t.renderContext)),Fe(Hn,$n(t,"clicksContext")),Fe(Un,s);const r=P(()=>s.value===1?void 0:{width:`${100/s.value}%`,height:`${100/s.value}%`,transformOrigin:"top left",transform:`scale(${s.value})`}),n=P(()=>({...r.value,"user-select":ue.selectable?void 0:"none"}));return(i,o)=>(f(),b("div",{"data-slidev-no":t.route.no,class:Q(l(Gn)(e.route,["slide","presenter"].includes(t.renderContext)?"":"disable-view-transition")),style:fe(n.value),lang:t.route.meta.slide.frontmatter.lang},[C(l(ko)),(f(),R(ze(t.route.component))),C(l(wo))],14,So))}}),fn=gt(Mo,[["__scopeId","data-v-a155920e"]]),$o=["onClick"],Po={class:"text-green font-bold"},Co={class:"opacity-50"},Eo={key:1,class:"opacity-50"},Io={class:"fixed top-4 right-4 z-modal text-gray-400 flex flex-col items-center gap-2"},Gt=4*16*2,Ls=2*16,Ro=G({__name:"QuickOverview",setup(e){const t=ve(),{currentSlideNo:s,go:r,slides:n}=t;function i(){xe.value=!1}function o(m){r(m),i()}function a(m){return m===ie.value}const u=Qt.smaller("xs"),c=Qt.smaller("sm"),d=P(()=>u.value?We.width.value-Gt:c.value?(We.width.value-Gt-Ls)/2:300),h=P(()=>Math.floor((We.width.value-Gt)/(d.value+Ls))),v=z("");return ls("keypress",m=>{if(!xe.value){v.value="";return}if(m.key==="Enter"){m.preventDefault(),v.value?(o(+v.value),v.value=""):o(ie.value);return}const g=Number.parseInt(m.key.replace(/\D/g,""));if(Number.isNaN(g)){v.value="";return}if(!v.value&&g===0)return;if(v.value+=String(g),+v.value>=n.value.length){v.value="";return}const y=n.value.findIndex(p=>`/${p.no}`===v.value);y!==-1&&(ie.value=y+1),+v.value*10>n.value.length&&(o(+v.value),v.value="")}),Ct(()=>{ie.value=s.value,fs.value=h.value}),(m,g)=>(f(),b(U,null,[C(Pn,{"enter-active-class":"duration-150 ease-out","enter-from-class":"opacity-0 scale-102 !backdrop-blur-0px","leave-active-class":"duration-200 ease-in","leave-to-class":"opacity-0 scale-102 !backdrop-blur-0px"},{default:D(()=>[l(xe)?(f(),b("div",{key:0,class:"fixed left-0 right-0 top-0 h-[calc(var(--vh,1vh)*100)] z-modal bg-main !bg-opacity-75 p-16 py-20 overflow-y-auto backdrop-blur-5px select-none",onClick:i},[_("div",{class:"grid gap-y-4 gap-x-8 w-full",style:fe(`grid-template-columns: repeat(auto-fit,minmax(${d.value}px,1fr))`)},[(f(!0),b(U,null,mt(l(n),(y,p)=>(f(),b("div",{key:y.no,class:"relative"},[_("div",{class:Q(["inline-block border rounded overflow-hidden bg-main hover:border-primary transition",a(p+1)||l(ie)===p+1?"border-primary":"border-main"]),onClick:x=>o(y.no)},[(f(),R(hn,{key:y.no,no:y.no,"use-snapshot":!0,width:d.value,class:"pointer-events-none"},{default:D(()=>[C(fn,{"clicks-context":l(Ws)(y,l(Ys)),route:y,"render-context":"overview"},null,8,["clicks-context","route"]),C(lo,{page:y.no},null,8,["page"])]),_:2},1032,["no","width"]))],10,$o),_("div",{class:"absolute top-0",style:fe(`left: ${d.value+5}px`)},[v.value&&String(p+1).startsWith(v.value)?(f(),b(U,{key:0},[_("span",Po,le(v.value),1),_("span",Co,le(String(p+1).slice(v.value.length)),1)],64)):(f(),b("span",Eo,le(p+1),1))],4)]))),128))],4)])):S("v-if",!0)]),_:1}),vt(_("div",Io,[C(ye,{title:"Close",class:"text-2xl",onClick:i},{default:D(()=>g[0]||(g[0]=[_("div",{class:"i-carbon:close"},null,-1)])),_:1}),S("v-if",!0),S("v-if",!0)],512),[[Bs,l(xe)]])],64))}}),Lo=G({__name:"Controls",setup(e){const{isEmbedded:t}=ve(),s=!ue.drawings.presenterOnly&&!t.value,r=Ye();s&&Xs(()=>import("./DrawingControls-j07O9TaK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(o=>r.value=o.default);const n=Ye(),i=Ye();return(o,a)=>(f(),b(U,null,[r.value?(f(),R(l(r),{key:0})):S("v-if",!0),C(Ro),C(Ui),n.value?(f(),R(l(n),{key:1})):S("v-if",!0),i.value?(f(),R(l(i),{key:2,modelValue:l(zt),"onUpdate:modelValue":a[0]||(a[0]=u=>Je(zt)?zt.value=u:null)},null,8,["modelValue"])):S("v-if",!0),l(ue).info?(f(),R(Zi,{key:3,modelValue:l(ft),"onUpdate:modelValue":a[1]||(a[1]=u=>Je(ft)?ft.value=u:null)},null,8,["modelValue"])):S("v-if",!0),C(qr)],64))}}),No={render:()=>[]},Ao={key:0,class:"bg-main text-main shadow-xl absolute bottom-10 left-0 z-menu py2",border:"~ main rounded-md"},Do=G({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(e,{emit:t}){const n=us(e,"modelValue",t,{passive:!0}),i=z();return Os(i,()=>{n.value=!1}),(o,a)=>(f(),b("div",{ref_key:"el",ref:i,class:"flex relative"},[_("button",{class:Q({disabled:e.disabled}),onClick:a[0]||(a[0]=u=>n.value=!l(n))},[Be(o.$slots,"button",{class:Q({disabled:e.disabled})})],2),(f(),R(js,null,[l(n)?(f(),b("div",Ao,[Be(o.$slots,"menu")])):S("v-if",!0)],1024))],512))}}),Vo={border:"~ main rounded",flex:"~ gap-2 items-center",relative:"","h-5":"","w-5":"","p0.5":"","hover:bg-active":"",p1:""},To=["disabled"],Wt=G({__name:"FormCheckbox",props:Ks({disabled:{type:Boolean}},{modelValue:{type:Boolean,type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Hs(e,"modelValue");return(s,r)=>(f(),b("div",Vo,[_("div",{"i-ri-check-line":"",class:Q(t.value?"":"op0")},null,2),vt(_("input",{"onUpdate:modelValue":r[0]||(r[0]=n=>t.value=n),type:"checkbox",absolute:"","inset-0":"","opacity-0.1":"",disabled:s.disabled},null,8,To),[[Cn,t.value]])]))}}),Fo={"w-30":"","h-8":"",flex:"~ gap-1 items-center"},Oo={key:0,"w-1.5":"","h-1.5":"","bg-primary":"",rounded:"",absolute:"","top-0":"","right--2":""},zo={key:0,"w-1.5":"","h-1.5":"","bg-primary":"",rounded:"",absolute:"","top-0":"","right--2":""},jo=["innerHTML"],Ae=G({__name:"FormItem",props:{title:{},nested:{type:[Boolean,Number]},div:{type:Boolean},description:{},dot:{type:Boolean}},emits:["reset"],setup(e,{emit:t}){const s=t;function r(){s("reset")}return(n,i)=>(f(),R(ze(n.div?"div":"label"),{flex:"~ row gap-2 items-center","select-none":""},{default:D(()=>[_("div",Fo,[n.nested?(f(),b("div",{key:0,"i-ri-corner-down-right-line":"",op40:"",style:fe(typeof n.nested=="number"?{marginLeft:`${n.nested*.5+.5}rem`}:{marginLeft:"0.25rem"})},null,4)):S("v-if",!0),n.description?(f(),R(l(or),{key:2,distance:"10"},{popper:D(()=>[_("div",{"text-sm":"","min-w-90":"",innerHTML:n.description},null,8,jo)]),default:D(()=>[_("div",{op75:"","text-right":"",relative:"",onDblclick:r},[je(le(n.title)+" ",1),n.dot?(f(),b("div",zo)):S("v-if",!0)],32)]),_:1})):(f(),b("div",{key:1,op75:"",relative:"",onDblclick:r},[je(le(n.title)+" ",1),n.dot?(f(),b("div",Oo)):S("v-if",!0)],32))]),Be(n.$slots,"default")]),_:3}))}}),Bo={relative:"","h-22px":""},Ko={key:0,"pointer-events-none":"",absolute:"","right-1":"","top-0.5":"","text-xs":"",op25:""},ut=G({__name:"FormSlider",props:Ks({max:{},min:{},step:{},unit:{},default:{}},{modelValue:{type:Number},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,s=Hs(e,"modelValue");return(r,n)=>(f(),b(U,null,[_("div",{relative:"","h-22px":"","w-60":"","flex-auto":"",onDblclick:n[1]||(n[1]=i=>t.default!==void 0?s.value=t.default:null)},[vt(_("input",Xt({"onUpdate:modelValue":n[0]||(n[0]=i=>s.value=i),type:"range",class:"slider"},t,{absolute:"","bottom-0":"","left-0":"","right-0":"","top-0":"","z-10":"","w-full":"","align-top":""}),null,16),[[vs,s.value,void 0,{number:!0}]]),t.default!=null?(f(),b("span",{key:0,border:"r main",absolute:"","bottom-0":"","top-0":"","h-full":"","w-1px":"",op75:"",style:fe({left:`${(t.default-r.min)/(r.max-r.min)*100}%`})},null,4)):S("v-if",!0)],32),_("div",Bo,[vt(_("input",Xt({"onUpdate:modelValue":n[2]||(n[2]=i=>s.value=i),type:"number"},t,{border:"~ main rounded",m0:"","w-20":"","bg-gray:5":"",pl2:"","align-top":"","text-sm":""}),null,16),[[vs,s.value,void 0,{number:!0}]]),t.unit?(f(),b("span",Ko,le(t.unit),1)):S("v-if",!0)])],64))}}),Ns={error:0,client:60,Light:60,Dark:240};function As(e,t=1){if(Ns[e])return Vt(Ns[e],t);let s=0;for(let n=0;n<e.length;n++)s=e.charCodeAt(n)+((s<<5)-s);const r=s%360;return Vt(r,t)}function Vt(e,t=1){const s=e===-1?0:pt.value?50:100,r=pt.value?60:20;return`hsla(${e}, ${s}%, ${r}%, ${t})`}const Ho=["textContent"],Uo=G({__name:"Badge",props:{text:{},color:{type:[Boolean,Number],default:!0},as:{},size:{}},setup(e){const t=e,s=P(()=>!t.text||t.color===!1?{}:{color:typeof t.color=="number"?Vt(t.color):As(t.text),background:typeof t.color=="number"?Vt(t.color,.1):As(t.text,.1)}),r=P(()=>{switch(t.size||"sm"){case"sm":return"px-1.5 text-11px leading-1.6em"}return""});return(n,i)=>(f(),R(ze(n.as||"span"),{"ws-nowrap":"",rounded:"",class:Q(r.value),style:fe(s.value)},{default:D(()=>[Be(n.$slots,"default",{},()=>[_("span",{textContent:le(t.text)},null,8,Ho)])]),_:3},8,["class","style"]))}}),Go={flex:"~ gap-1 items-center",rounded:"","bg-gray:4":"",p1:"","m--1":""},Wo=G({__name:"SegmentControl",props:{options:{},modelValue:{}},emits:["update:modelValue"],setup(e){return(t,s)=>(f(),b("div",Go,[(f(!0),b(U,null,mt(t.options,r=>(f(),R(Uo,{key:r.value,class:Q(["px-2 py-1 text-xs font-mono",r.value===t.modelValue?"":"op50"]),color:r.value===t.modelValue,"aria-pressed":r.value===t.modelValue,size:"none",text:r.label,as:"button",onClick:n=>t.$emit("update:modelValue",r.value)},null,8,["class","color","aria-pressed","text","onClick"]))),128))]))}}),Yo={"text-sm":"","select-none":"",flex:"~ col gap-1","min-w-30":"",px4:""},Xo=G({__name:"Settings",setup(e){const{isPresenter:t}=ve(),{isSupported:s}=Fs();return(r,n)=>(f(),b("div",Yo,[C(Ae,{title:"Invert",dot:l(V).invert!==l(Z).invert,onReset:n[1]||(n[1]=i=>l(V).invert=l(Z).invert)},{default:D(()=>[C(Wt,{modelValue:l(V).invert,"onUpdate:modelValue":n[0]||(n[0]=i=>l(V).invert=i)},null,8,["modelValue"])]),_:1},8,["dot"]),C(Ae,{title:"Brightness",dot:l(V).brightness!==l(Z).brightness,onReset:n[3]||(n[3]=i=>l(V).brightness=l(Z).brightness)},{default:D(()=>[C(ut,{modelValue:l(V).brightness,"onUpdate:modelValue":n[2]||(n[2]=i=>l(V).brightness=i),max:1.5,min:.5,step:.02,default:l(Z).brightness},null,8,["modelValue","default"])]),_:1},8,["dot"]),C(Ae,{title:"Contrast",dot:l(V).contrast!==l(Z).contrast,onReset:n[5]||(n[5]=i=>l(V).contrast=l(Z).contrast)},{default:D(()=>[C(ut,{modelValue:l(V).contrast,"onUpdate:modelValue":n[4]||(n[4]=i=>l(V).contrast=i),max:1.5,min:.5,step:.02,default:l(Z).contrast},null,8,["modelValue","default"])]),_:1},8,["dot"]),C(Ae,{title:"Saturation",dot:l(V).saturate!==l(Z).saturate,onReset:n[7]||(n[7]=i=>l(V).saturate=l(Z).saturate)},{default:D(()=>[C(ut,{modelValue:l(V).saturate,"onUpdate:modelValue":n[6]||(n[6]=i=>l(V).saturate=i),max:1.5,min:.5,step:.02,default:l(Z).saturate},null,8,["modelValue","default"])]),_:1},8,["dot"]),C(Ae,{title:"Sepia",dot:l(V).sepia!==l(Z).sepia,onReset:n[9]||(n[9]=i=>l(V).sepia=l(Z).sepia)},{default:D(()=>[C(ut,{modelValue:l(V).sepia,"onUpdate:modelValue":n[8]||(n[8]=i=>l(V).sepia=i),max:2,min:-2,step:.02,default:l(Z).sepia},null,8,["modelValue","default"])]),_:1},8,["dot"]),C(Ae,{title:"Hue Rotate",dot:l(V).hueRotate!==l(Z).hueRotate,onReset:n[11]||(n[11]=i=>l(V).hueRotate=l(Z).hueRotate)},{default:D(()=>[C(ut,{modelValue:l(V).hueRotate,"onUpdate:modelValue":n[10]||(n[10]=i=>l(V).hueRotate=i),max:180,min:-180,step:.1,default:l(Z).hueRotate},null,8,["modelValue","default"])]),_:1},8,["dot"]),n[15]||(n[15]=_("div",{class:"h-1px opacity-5 bg-current w-full my2"},null,-1)),l(t)?S("v-if",!0):(f(),R(Ae,{key:0,title:"Slide Scale"},{default:D(()=>[C(Wo,{modelValue:l(ht),"onUpdate:modelValue":n[12]||(n[12]=i=>Je(ht)?ht.value=i:null),options:[{label:"Fit",value:0},{label:"1:1",value:1}]},null,8,["modelValue"])]),_:1})),l(s)?(f(),R(Ae,{key:1,title:"Wake Lock"},{default:D(()=>[C(Wt,{modelValue:l(Mt),"onUpdate:modelValue":n[13]||(n[13]=i=>Je(Mt)?Mt.value=i:null)},null,8,["modelValue"])]),_:1})):S("v-if",!0),l(t)?S("v-if",!0):(f(),R(Ae,{key:2,title:"Hide Idle Cursor"},{default:D(()=>[C(Wt,{modelValue:l(St),"onUpdate:modelValue":n[14]||(n[14]=i=>Je(St)?St.value=i:null)},null,8,["modelValue"])]),_:1}))]))}}),Qo={},Zo={class:"w-1px opacity-10 bg-current m-1 lg:m-2"};function Jo(e,t){return f(),b("div",Zo)}const ct=gt(Qo,[["render",Jo]]),qo={key:0,class:"i-carbon:minimize"},ea={key:1,class:"i-carbon:maximize"},ta={key:0,"w-2":"","h-2":"","bg-primary":"","rounded-full":"",absolute:"","top-0.5":"","right-0.5":""},sa={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},na={class:"my-auto"},ra={class:"opacity-50"},ia=G({__name:"NavControls",props:{persist:{default:!1}},setup(e){const t=e,{currentSlideNo:s,hasNext:r,hasPrev:n,isEmbedded:i,isPresenter:o,isPresenterAvailable:a,next:u,prev:c,total:d,enterPresenter:h,exitPresenter:v}=ve(),{brush:m,drawingEnabled:g}=st(),y=Qt.smaller("md"),{isFullscreen:p,toggle:x}=cs,I=z();function w(){I.value&&dt.value&&I.value.contains(dt.value)&&dt.value.blur()}const T=P(()=>t.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow-xl border border-main"),k=Ye();return(j,M)=>{const W=nr,F=rr,O=Zs,ee=ir;return f(),b("nav",{ref_key:"root",ref:I,class:"flex flex-col"},[_("div",{class:Q(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:p-2",T.value]),onMouseleave:w},[l(i)?S("v-if",!0):(f(),R(ye,{key:0,title:l(p)?"Close fullscreen":"Enter fullscreen",onClick:l(x)},{default:D(()=>[l(p)?(f(),b("div",qo)):(f(),b("div",ea))]),_:1},8,["title","onClick"])),C(ye,{class:Q({disabled:!l(n)}),title:"Go to previous slide",onClick:l(c)},{default:D(()=>M[6]||(M[6]=[_("div",{class:"i-carbon:arrow-left"},null,-1)])),_:1},8,["class","onClick"]),C(ye,{class:Q({disabled:!l(r)}),title:"Go to next slide",onClick:l(u)},{default:D(()=>M[7]||(M[7]=[_("div",{class:"i-carbon:arrow-right"},null,-1)])),_:1},8,["class","onClick"]),l(i)?S("v-if",!0):(f(),R(ye,{key:1,title:"Show slide overview",onClick:M[0]||(M[0]=ne=>l(It)())},{default:D(()=>M[8]||(M[8]=[_("div",{class:"i-carbon:apps"},null,-1)])),_:1})),l(Wn)?S("v-if",!0):(f(),R(ye,{key:2,title:l(pt)?"Switch to light mode theme":"Switch to dark mode theme",onClick:M[1]||(M[1]=ne=>l(Zt)())},{default:D(()=>[l(pt)?(f(),R(W,{key:0})):(f(),R(F,{key:1}))]),_:1},8,["title"])),C(ct),l(i)?S("v-if",!0):(f(),b(U,{key:3},[!l(o)&&!l(y)&&k.value?(f(),b(U,{key:0},[C(l(k)),C(ct)],64)):S("v-if",!0),l(o)?(f(),R(ye,{key:1,title:l(bt)?"Hide presenter cursor":"Show presenter cursor",onClick:M[2]||(M[2]=ne=>bt.value=!l(bt))},{default:D(()=>[l(bt)?(f(),R(O,{key:0})):(f(),R(ee,{key:1}))]),_:1},8,["title"])):S("v-if",!0)],64)),(!l(ue).drawings.presenterOnly||l(o))&&!l(i)?(f(),b(U,{key:4},[C(ye,{class:"relative",title:l(g)?"Hide drawing toolbar":"Show drawing toolbar",onClick:M[3]||(M[3]=ne=>g.value=!l(g))},{default:D(()=>[M[9]||(M[9]=_("div",{class:"i-carbon:pen"},null,-1)),l(g)?(f(),b("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:fe({background:l(m).color})},null,4)):S("v-if",!0)]),_:1},8,["title"]),C(ct)],64)):S("v-if",!0),l(i)?S("v-if",!0):(f(),b(U,{key:5},[l(o)?(f(),R(ye,{key:0,title:"Play Mode",onClick:l(v)},{default:D(()=>M[10]||(M[10]=[_("div",{class:"i-carbon:presentation-file"},null,-1)])),_:1},8,["onClick"])):S("v-if",!0),S("v-if",!0),S("v-if",!0)],64)),(f(),b(U,{key:6},[l(ue).download?(f(),R(ye,{key:0,title:"Download as PDF",onClick:l(Qs)},{default:D(()=>M[13]||(M[13]=[_("div",{class:"i-carbon:download"},null,-1)])),_:1},8,["onClick"])):S("v-if",!0)],64)),S("v-if",!0),!l(o)&&l(ue).info&&!l(i)?(f(),R(ye,{key:8,title:"Show info",onClick:M[5]||(M[5]=ne=>ft.value=!l(ft))},{default:D(()=>M[15]||(M[15]=[_("div",{class:"i-carbon:information"},null,-1)])),_:1})):S("v-if",!0),l(i)?S("v-if",!0):(f(),b(U,{key:9},[C(ct),l(o)?(f(),R(ye,{key:0,title:"Toggle Presenter Layout",class:"aspect-ratio-initial flex items-center",onClick:l(Xn)},{default:D(()=>[M[16]||(M[16]=_("div",{class:"i-carbon:template"},null,-1)),je(" "+le(l(Yn)),1)]),_:1},8,["onClick"])):S("v-if",!0),S("v-if",!0),C(Do,null,{button:D(()=>[C(ye,{title:"More Options"},{default:D(()=>[M[17]||(M[17]=_("div",{class:"i-carbon:settings-adjust"},null,-1)),l(Qn)?(f(),b("div",ta)):S("v-if",!0)]),_:1})]),menu:D(()=>[C(Xo)]),_:1})],64)),l(i)?S("v-if",!0):(f(),R(ct,{key:10})),_("div",sa,[_("div",na,[je(le(l(s))+" ",1),_("span",ra,"/ "+le(l(d)),1)])]),C(l(No))],34)],512)}}}),oa={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},aa=G({__name:"PresenterMouse",setup(e){return(t,s)=>{const r=Zs;return l(jt).cursor?(f(),b("div",oa,[C(r,{class:"absolute stroke-white dark:stroke-black",style:fe({left:`${l(jt).cursor.x}%`,top:`${l(jt).cursor.y}%`,strokeWidth:16})},null,8,["style"])])):S("v-if",!0)}}});function la(){const e=En(),t=z(!1);let s,r;const n=typeof document<"u"&&"startViewTransition"in document;return e.beforeResolve((i,o)=>{var y,p,x,I;const a=(y=Et(o.params.no))==null?void 0:y.meta,u=(p=Et(i.params.no))==null?void 0:p.meta,c=(x=a==null?void 0:a.slide)==null?void 0:x.no,d=(I=u==null?void 0:u.slide)==null?void 0:I.no;if((c!=null&&d!=null&&c!==d&&((c<d?a==null?void 0:a.transition:u==null?void 0:u.transition)??ue.transition))!=="view-transition"){t.value=!1;return}if(!n){t.value=!1,console.warn("View transition is not supported in your browser, fallback to normal transition.");return}t.value=!0;const v=new Promise((w,T)=>{s=w,r=T});let m;const g=new Promise(w=>m=w);return setTimeout(()=>{document.startViewTransition(()=>(m(),v))},50),g}),n&&e.afterEach(()=>{s==null||s(),r==null||r()}),t}const ua=["data-drag-id"],Se=10,Te=10,Yt="absolute border border-gray bg-gray dark:border-gray-500 dark:bg-gray-800 bg-opacity-30 ",kt=20,ca=G({__name:"DragControl",props:{data:{}},setup(e){const{dragId:t,zoom:s,autoHeight:r,x0:n,y0:i,width:o,height:a,rotate:u,isArrow:c}=e.data,d=In(Gs,z(1)),h=P(()=>d.value*s.value),{left:v,top:m}=Zn(),g=c?Number.NEGATIVE_INFINITY:40,y=P(()=>u.value*Math.PI/180),p=P(()=>Math.sin(y.value)),x=P(()=>Math.cos(y.value)),I=P(()=>o.value*x.value+a.value*p.value),w=P(()=>o.value*p.value+a.value*x.value),T=P(()=>n.value-I.value/2),k=P(()=>i.value-w.value/2),j=P(()=>n.value+I.value/2),M=P(()=>i.value+w.value/2),W=P(()=>c&&o.value<0),F=P(()=>c&&a.value<0);let O=null;function ee($){if($.buttons!==1)return;$.preventDefault(),$.stopPropagation();const H=$.target.getBoundingClientRect(),L=o.value*x.value-a.value*p.value,A=o.value*p.value+a.value*x.value,re=o.value*x.value+a.value*p.value,oe=-o.value*p.value+a.value*x.value;O={x0:n.value,y0:i.value,width:o.value,height:a.value,rotate:u.value,dx0:$.clientX-(H.left+H.right)/2,dy0:$.clientY-(H.top+H.bottom)/2,ltx:n.value-L/2,lty:i.value-A/2,rtx:n.value+re/2,rty:i.value-oe/2,lbx:n.value-re/2,lby:i.value+oe/2,rbx:n.value+L/2,rby:i.value+A/2},$.currentTarget.setPointerCapture($.pointerId)}function ne($){if(!O||$.buttons!==1)return;$.preventDefault(),$.stopPropagation();const X=($.clientX-v.value-O.dx0)/h.value,H=($.clientY-m.value-O.dy0)/h.value;n.value=gs(X,-I.value/2+Te,Rt.value+I.value/2-Te),i.value=gs(H,-w.value/2+Te,Lt.value+w.value/2-Te)}function ce($){O&&($.preventDefault(),$.stopPropagation(),O=null)}function K($,X){return{onPointerdown:ee,onPointermove:H=>{if(!O||H.buttons!==1)return;H.preventDefault(),H.stopPropagation();let L=(H.clientX-v.value)/h.value,A=(H.clientY-m.value)/h.value;const{ltx:re,lty:oe,rtx:be,rty:te,lbx:me,lby:de,rbx:Re,rby:se}=O,ae=O.width/O.height,vn=Math.max(g,g*ae);function yt(Pe,Ce){if(H.shiftKey){const he=Math.max(Pe,Ce*ae,vn),ge=he/ae;return{w:he,h:ge}}else return{w:Math.max(Pe,g),h:Math.max(Ce,g)}}if($)if(X){const Pe=(Re-L)*x.value+(se-A)*p.value,Ce=-(Re-L)*p.value+(se-A)*x.value,{w:he,h:ge}=yt(Pe,Ce);L=Re-he*x.value+ge*p.value,A=se-he*p.value-ge*x.value}else{const Pe=(be-L)*x.value-(A-te)*p.value,Ce=(be-L)*p.value+(A-te)*x.value,{w:he,h:ge}=yt(Pe,Ce);L=be-he*x.value-ge*p.value,A=te-he*p.value+ge*x.value}else if(X){const Pe=(L-me)*x.value-(de-A)*p.value,Ce=(L-me)*p.value+(de-A)*x.value,{w:he,h:ge}=yt(Pe,Ce);L=me+he*x.value+ge*p.value,A=de+he*p.value-ge*x.value}else{const Pe=(L-re)*x.value+(A-oe)*p.value,Ce=-(L-re)*p.value+(A-oe)*x.value,{w:he,h:ge}=yt(Pe,Ce);L=re+he*x.value-ge*p.value,A=oe+he*p.value+ge*x.value}$?X?(n.value=(L+Re)/2,i.value=(A+se)/2,o.value=(Re-L)*x.value+(se-A)*p.value,a.value=-(Re-L)*p.value+(se-A)*x.value):(n.value=(L+be)/2,i.value=(A+te)/2,o.value=(be-L)*x.value-(A-te)*p.value,a.value=(be-L)*p.value+(A-te)*x.value):X?(n.value=(L+me)/2,i.value=(A+de)/2,o.value=(L-me)*x.value-(de-A)*p.value,a.value=(L-me)*p.value+(de-A)*x.value):(n.value=(L+re)/2,i.value=(A+oe)/2,o.value=(L-re)*x.value+(A-oe)*p.value,a.value=-(L-re)*p.value+(A-oe)*x.value)},onPointerup:ce,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:$!==W.value?"0":void 0,right:$!==W.value?void 0:"0",top:X!==F.value?"0":void 0,bottom:X!==F.value?void 0:"0",cursor:c?"move":+$+ +X==1?"nesw-resize":"nwse-resize",borderRadius:c?"50%":void 0},class:Yt}}function pe($){return{onPointerdown:ee,onPointermove:X=>{if(!O||X.buttons!==1)return;X.preventDefault(),X.stopPropagation();const H=(X.clientX-v.value)/h.value,L=(X.clientY-m.value)/h.value,{ltx:A,lty:re,rtx:oe,rty:be,lbx:te,lby:me,rbx:de,rby:Re}=O;if($==="l"){const se=(oe+de)/2,ae=(be+Re)/2;o.value=Math.max((se-H)*x.value+(ae-L)*p.value,g),n.value=se-o.value*x.value/2,i.value=ae-o.value*p.value/2}else if($==="r"){const se=(A+te)/2,ae=(re+me)/2;o.value=Math.max((H-se)*x.value+(L-ae)*p.value,g),n.value=se+o.value*x.value/2,i.value=ae+o.value*p.value/2}else if($==="t"){const se=(te+de)/2,ae=(me+Re)/2;a.value=Math.max((ae-L)*x.value-(se-H)*p.value,g),n.value=se+a.value*p.value/2,i.value=ae-a.value*x.value/2}else if($==="b"){const se=(A+oe)/2,ae=(re+be)/2;a.value=Math.max((L-ae)*x.value-(H-se)*p.value,g),n.value=se-a.value*p.value/2,i.value=ae+a.value*x.value/2}},onPointerup:ce,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:$==="l"?"0":$==="r"?"100%":"50%",top:$==="t"?"0":$==="b"?"100%":"50%",cursor:"lr".includes($)?"ew-resize":"ns-resize",borderRadius:"50%"},class:Yt}}function Ie(){return{onPointerdown:ee,onPointermove:$=>{if(!O||$.buttons!==1)return;$.preventDefault(),$.stopPropagation();const X=($.clientX-v.value-O.dx0)/h.value-Se/4,H=($.clientY-m.value-O.dy0)/h.value-Se/4;let L=Math.atan2(H-i.value,X-n.value)*180/Math.PI+90;const A=[0,90,180,270,360];for(const re of A)if(Math.abs(L-re)<5){L=re%360;break}u.value=L},onPointerup:ce,style:{width:`${Se}px`,height:`${Se}px`,margin:`-${Se/2}px`,left:"50%",top:"-20px",cursor:"grab",borderRadius:"50%"},class:Yt}}const N={immediate:!1,immediateCallback:!1},q=_t(()=>{j.value<=Te||n.value--},kt,N),B=_t(()=>{T.value>=Rt.value-Te||n.value++},kt,N),Y=_t(()=>{M.value<=Te||i.value--},kt,N),rt=_t(()=>{k.value>=Lt.value-Te||i.value++},kt,N);return Ct(()=>{function $(X,H){ds[X].value?H.resume():H.pause()}$("left",q),$("right",B),$("up",Y),$("down",rt)}),($,X)=>Number.isFinite(l(n))?(f(),b("div",{key:0,id:"drag-control-container","data-drag-id":l(t),style:fe({position:"absolute",zIndex:100,left:`${l(s)*(l(n)-Math.abs(l(o))/2)}px`,top:`${l(s)*(l(i)-Math.abs(l(a))/2)}px`,width:`${l(s)*Math.abs(l(o))}px`,height:`${l(s)*Math.abs(l(a))}px`,transformOrigin:"center center",transform:`rotate(${l(u)}deg)`}),onPointerdown:ee,onPointermove:ne,onPointerup:ce},[_("div",{class:Q(["absolute inset-0 z-nav dark:b-gray-400",l(c)?"":"b b-dark"])},[l(r)?S("v-if",!0):(f(),b(U,{key:0},[_("div",Le(Ne(K(!0,!0))),null,16),_("div",Le(Ne(K(!1,!1))),null,16),l(c)?S("v-if",!0):(f(),b(U,{key:0},[_("div",Le(Ne(K(!0,!1))),null,16),_("div",Le(Ne(K(!1,!0))),null,16)],64))],64)),l(c)?S("v-if",!0):(f(),b(U,{key:1},[_("div",Le(Ne(pe("l"))),null,16),_("div",Le(Ne(pe("r"))),null,16),l(r)?S("v-if",!0):(f(),b(U,{key:0},[_("div",Le(Ne(pe("t"))),null,16),_("div",Le(Ne(pe("b"))),null,16)],64)),_("div",Le(Ne(Ie())),null,16),_("div",{class:"absolute -top-15px w-0 b b-dashed b-dark dark:b-gray-400",style:fe({left:"calc(50% - 1px)",height:l(r)?"14px":"10px"})},null,4)],64))],2)],44,ua)):S("v-if",!0)}}),da=G({__name:"SlidesShow",props:{renderContext:{}},setup(e){const{currentSlideRoute:t,currentTransition:s,getPrimaryClicks:r,prevRoute:n,nextRoute:i,slides:o,isPrintMode:a,isPrintWithClicks:u,clicksDirection:c,printRange:d}=ve();function h(p){p.meta.preload!==!1&&(p.meta.__preloaded=!0,p.load())}Ct(()=>{h(t.value),h(n.value),h(i.value)}),Ct(p=>{const x=o.value,I=setTimeout(()=>{x.forEach(h)},3e3);p(()=>clearTimeout(I))});const v=la(),m=Ye();Xs(()=>import("./DrawingLayer-DA_mGadu.js"),__vite__mapDeps([10,1,7,4,2,3,5,6,8])).then(p=>m.value=p.default);const g=P(()=>a.value?d.value.map(p=>o.value[p-1]):o.value.filter(p=>{var x;return((x=p.meta)==null?void 0:x.__preloaded)||p===t.value}));function y(){Bt.value=!0,ar()}return(p,x)=>(f(),b(U,null,[S(" Global Bottom "),C(l(bo)),S(" Slides "),(f(),R(ze(l(v)&&!l(a)&&!l(Bt)&&!l(ys)?"div":Rn),Xt(l(Bt)||l(ys)||l(a)?{}:l(s),{id:"slideshow",tag:"div",class:{"slidev-nav-go-forward":l(c)>0,"slidev-nav-go-backward":l(c)<0},onAfterLeave:y}),{default:D(()=>[(f(!0),b(U,null,mt(g.value,I=>(f(),b(U,{key:I.no},[Math.abs(I.no-l(t).no)<=20?vt((f(),R(fn,{key:0,"clicks-context":l(a)&&!l(u)?l(Ws)(I,l(Ys)):l(r)(I),route:I,"render-context":p.renderContext},null,8,["clicks-context","route","render-context"])),[[Bs,I===l(t)]]):S("v-if",!0)],64))),128))]),_:1},16,["class"])),l(Jt)?(f(),R(ca,{key:0,data:l(Jt)},null,8,["data"])):S("v-if",!0),S(" Global Top "),C(l(_o)),m.value?(f(),R(l(m),{key:1})):S("v-if",!0)],64))}}),ha=gt(da,[["__scopeId","data-v-6b6b5e46"]]),fa=[];function va(){const{go:e,goFirst:t,goLast:s,next:r,nextSlide:n,prev:i,prevSlide:o}=ve(),{drawingEnabled:a}=st(),{escape:u,space:c,shift:d,left:h,right:v,up:m,down:g,enter:y,d:p,g:x,o:I,"`":w}=ds,T={next:r,prev:i,nextSlide:n,prevSlide:o,go:e,goFirst:t,goLast:s,downloadPDF:Qs,toggleDark:Zt,toggleOverview:It,toggleDrawing:()=>a.value=!a.value,escapeOverview:()=>xe.value=!1,showGotoDialog:()=>Oe.value=!Oe.value},k=J(we(xe),we(Jt));let j=[{name:"next_space",key:J(c,we(d)),fn:r,autoRepeat:!0},{name:"prev_space",key:J(c,d),fn:i,autoRepeat:!0},{name:"next_right",key:J(v,we(d),k),fn:r,autoRepeat:!0},{name:"prev_left",key:J(h,we(d),k),fn:i,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:r,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:i,autoRepeat:!0},{name:"next_down",key:J(g,k),fn:n,autoRepeat:!0},{name:"prev_up",key:J(m,k),fn:o,autoRepeat:!0},{name:"next_shift",key:J(v,d),fn:n,autoRepeat:!0},{name:"prev_shift",key:J(h,d),fn:o,autoRepeat:!0},{name:"toggle_dark",key:J(p,we(a)),fn:Zt},{name:"toggle_overview",key:J(Ln(I,w),we(a)),fn:It},{name:"hide_overview",key:J(u,we(a)),fn:()=>xe.value=!1},{name:"goto",key:J(x,we(a)),fn:()=>Oe.value=!Oe.value},{name:"next_overview",key:J(v,xe),fn:qi},{name:"prev_overview",key:J(h,xe),fn:Ji},{name:"up_overview",key:J(m,xe),fn:eo},{name:"down_overview",key:J(g,xe),fn:to},{name:"goto_from_overview",key:J(y,xe),fn:()=>{e(ie.value),xe.value=!1}}];const M=new Set(j.map(F=>F.name));for(const F of fa)j=F(T,j);if(j.filter(F=>F.name&&M.has(F.name)).length===0){const F=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(F),console.warn(F)}return j}function pa(){const{isPrintMode:e}=ve(),t=J(we(Us),we(qn),we(e),Jn),s=va();new Map(s.map(o=>[o.key,o])).forEach(o=>{o.fn&&n(o.key,o.fn,o.autoRepeat)}),i("f",()=>cs.toggle());function n(o,a,u=!1){typeof o=="string"&&(o=ds[o]);const c=J(o,t);let d=0,h;const v=()=>{if(clearTimeout(h),!c.value){d=0;return}u&&(h=setTimeout(v,Math.max(1e3-d*250,150)),d++),a()};return Xe(c,v,{flush:"sync"})}function i(o,a){return Nn(o,u=>{t.value&&(u.repeat||a())})}}const ma=G({__name:"play",setup(e){const{next:t,prev:s,isPrintMode:r,isPresenter:n}=ve(),{isDrawing:i}=st(),o=z();function a(h){var v;qe.value||h.button===0&&((v=h.target)==null?void 0:v.id)==="slide-container"&&(h.pageX/window.innerWidth>.5?t():s())}jr(o),pa(),Br(),zr(P(()=>!n.value&&!r.value));const u=P(()=>er.value||qe.value),c=Ye(),d=P(()=>{let h="";return V.value.brightness!==Z.brightness&&(h+=`brightness(${V.value.brightness}) `),V.value.contrast!==Z.contrast&&(h+=`contrast(${V.value.contrast}) `),V.value.sepia!==Z.sepia&&(h+=`sepia(${V.value.sepia}) `),V.value.hueRotate!==Z.hueRotate&&(h+=`hue-rotate(${V.value.hueRotate}deg) `),V.value.invert&&(h+="invert(1) "),{filter:h}});return(h,v)=>(f(),b(U,null,[_("div",{id:"page-root",ref_key:"root",ref:o,class:Q(["grid",l(tr)?"grid-rows-[1fr_max-content]":"grid-cols-[1fr_max-content]"])},[C(hn,{style:{background:"var(--slidev-slide-container-background, black)"},"is-main":"","content-style":d.value,onPointerdown:a,onContextmenu:l(Gr)},{default:D(()=>[C(ha,{"render-context":"slide"}),C(aa)]),controls:D(()=>[l(r)?S("v-if",!0):(f(),b("div",{key:0,class:Q(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100 focus-within:opacity-100 focus-visible:opacity-100",[u.value?"!opacity-100 right-0":"opacity-0 p-2",l(i)?"pointer-events-none":""]])},[C(ia,{persist:u.value},null,8,["persist"])],2))]),_:1},8,["content-style","onContextmenu"]),c.value&&l(qe)?(f(),R(l(c),{key:0,resize:!0})):S("v-if",!0)],2),l(r)?S("v-if",!0):(f(),R(Lo,{key:0})),v[0]||(v[0]=_("div",{id:"twoslash-container"},null,-1))],64))}}),ka=Object.freeze(Object.defineProperty({__proto__:null,default:ma},Symbol.toStringTag,{value:"Module"}));export{ct as V,ye as _,ka as p,st as u};
